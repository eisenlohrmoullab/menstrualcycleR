% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cycletime.r
\name{calculate_cycletime}
\alias{calculate_cycletime}
\title{Create Cycle Time Variables}
\usage{
calculate_cycletime(
  data,
  id,
  daterated,
  menses,
  ovtoday,
  lower_cyclength_bound = 21,
  upper_cyclength_bound = 35
)
}
\arguments{
\item{data}{A data frame containing the required input variables.}

\item{id}{A unique identifier for individuals in the dataset.}

\item{daterated}{A date column indicating when the data was recorded.}

\item{menses}{A binary column (\code{0}/\code{1}) indicating the first day of menses onset, where \code{1} represents menses onset.}

\item{ovtoday}{A binary column (\code{0}/\code{1}) indicating the estimated day of ovulation, where \code{1} represents ovulation.}
}
\value{
The input data frame with the following additional variables:
\itemize{
\item \strong{\code{scaled_cycleday}}: Centered on menses (\code{menses == 1} corresponds to \code{scaled_cycleday == 0}) and spans from \code{-1} (the first day of the luteal phase) to \code{+1} (the estimated day of ovulation).
\item \strong{\code{scaled_cycleday_impute}}: Similar to \code{scaled_cycleday}, but includes scaling based on imputed ovulation (\code{ovtoday_impute}) for cycles without confirmed ovulation (\code{ovtoday}). This variable spans from \code{-1} (the first day of the luteal phase) to \code{+1} (the estimated day of ovulation, either \code{ovtoday} or \code{ovtoday_impute}).
\item \strong{\code{scaled_cycleday_ov}}: Centered on confirmed ovulation (\code{ovtoday == 1} corresponds to \code{scaled_cycleday_ov == 0}) and spans from \code{-1} (the first day of the follicular phase) to \code{+1} (the last day of the luteal phase).
\item \strong{\code{scaled_cycleday_imp_ov}}: Similar to \code{scaled_cycleday_ov}, but includes scaling based on imputed ovulation (\code{ovtoday_impute}) for cycles without confirmed ovulation. This variable is centered on ovulation (\code{ovtoday == 1} or \code{ovtoday_impute == 1} corresponds to \code{scaled_cycleday == 0}) and spans from \code{-1} to \code{+1}.
}
}
\description{
This function calculates and adds cycle time variables to a longitudinal dataset.
It should be applied \strong{after} the \code{mcyclength()} function has been used on the dataset.
}
\details{
The dataset must be in long format, where each row represents a unique date for a specific individual.
}
\examples{
# Load the example dataset
data(cycledata)

# First, calculate menses-to-menses cycle lengths
data <- calculate_mcyclength(
  data, 
  id = id, 
  daterated = daterated, 
  menses = menses, 
  ovtoday = ovtoday
)

# Then, create cycle time variables
data <- calculate_cycletime(
  data, 
  id = id, 
  daterated = daterated, 
  menses = menses, 
  ovtoday = ovtoday
)

# View the result
print(data)
}
\keyword{cycle}
\keyword{cycle,}
\keyword{menstrual}
\keyword{ovulation}
\keyword{time,}
